{% extends "base.html" %}

{% block title %}
    Create Profile
{% endblock title %}

{% block content %}

{% if user.role == 'student' %}
<div class="card shadow border-0 mt-4">
    <div class="card-body">
        <form class="p-4 shadow rounded bg-light" method="POST" enctype="multipart/form-data">
            {% csrf_token %}
            <h5 class="mb-3 fw-bold text-primary">
                Student Information For {{user.first_name}} {{user.last_name}}
            </h5>
            <h5 style="color: red;">
                Note:
            </h5>
            <p>
                Once you have
                <strong>
                    submitted
                </strong>
                your form, you cannot edit again
            </p>
            {% if form.errors %}
            <div class="alert alert-danger" role="alert">
                {{form.errors}}
            </div>
            {% endif %}
            <div class="row mb-3">
                <div class="col-md-12">
                    <label class="form-label" for="gender">
                        Gender
                    </label>
                    <select class="form-select" id="gender" name="gender" required="">
                        <option disabled="" selected="">
                            Choose gender...
                        </option>
                        <option value="male">
                            Male
                        </option>
                        <option value="female">
                            Female
                        </option>
                    </select>
                </div>
            </div>
            <div class="row mb-3">
                <div class="col-md-6">
                    <label class="form-label" for="dob">
                        Date of Birth
                    </label>
                    <input class="form-control" id="dob" name="dob" required="" type="date">
                    </input>
                </div>
                <div class="col-md-3">
                    <label class="form-label" for="form">
                        Form
                    </label>
                    <select class="form-select" id="form" name="form" required="">
                        <option disabled="" selected="">
                            Select Form...
                        </option>
                        <option value="Form 1">
                            Form One
                        </option>
                        <option value="Form 2">
                            Form Two
                        </option>
                        <option value="Form 3">
                            Form Three
                        </option>
                        <option value="Form 4">
                            Form Four
                        </option>
                    </select>
                </div>
                <div class="col-md-3 mb-3">
                    <label class="form-label" for="stream">
                        Stream
                    </label>
                    <select class="form-select" id="stream" name="stream" required="">
                        <option disabled="" selected="">
                            Select Stream...
                        </option>
                        <option value="A">
                            A
                        </option>
                        <option value="B">
                            B
                        </option>
                    </select>
                </div>
                <div class="col-md-4">
                <label class="form-label" for="joined_school_at">
                    Date Joined School
                </label>
                <input class="form-control" id="joined_school_at" name="joined_school_at" type="date">
                </input>
            </div>
            <div class="col-md-8">
                <label class="form-label" for="profile_picture">
                    Profile Picture
                </label>
                <input class="form-control" id="profile_picture" name="profile_picture" type="file">
                </input>
            </div>
            </div>
          
            <hr class="my-4">
                <h5 class="mb-3 fw-bold text-success">
                    Guardian Information
                </h5>
                <div class="mb-3">
                    <label class="form-label" for="guardian_name">
                        Guardian Name
                    </label>
                    <input class="form-control" id="guardian_name" name="guardian_name" required="" type="text">
                    </input>
                </div>
                <div class="row mb-3">
                    <div class="col-md-6">
                        <label class="form-label" for="guardian_phone">
                            Guardian Phone
                        </label>
                        <input class="form-control" id="guardian_phone" name="guardian_phone" required="" type="text">
                        </input>
                    </div>
                    <div class="col-md-6">
                        <label class="form-label" for="guardian_email">
                            Guardian Email
                        </label>
                        <input class="form-control" id="guardian_email" name="guardian_email" required="" type="email">
                        </input>
                    </div>
                </div>
                <div class="mb-4">
                    <label class="form-label" for="address">
                        Address
                    </label>
                    <textarea class="form-control" id="address" name="address" required="" rows="2">
                    </textarea>
                </div>
                <button class="btn btn-primary w-100 mb-3" type="submit">
                    Submit Student Info
                </button>
                <a class="link-primary text-decoration-none" href="{% url 'home' %}">
                    <i class="bi bi-arrow-return-right">
                    </i>
                    Return to Dashboard
                </a>
            </hr>
        </form>
    </div>
</div>
<!-- if user role is a teacher -->
{% else %}
<div class="container my-5">
    <div class="p-4 rounded-4 shadow-lg border bg-light">
        {% if form.errors %}
        <div class="alert alert-danger" role="alert">
            {{form.errors}}
        </div>
        {% endif %}
        <h3 class="text-center mb-4">
            üìã Register
        </h3>
        <form enctype="multipart/form-data" method="POST">
            {% csrf_token %}
            <!-- Personal Information -->
            <h5 class="mb-3">
                üë§ Personal Information ( {{user.username}} )
            </h5>
            <div class="row g-3">
                <div class="col-md-6">
                    <label class="form-label" for="gender">
                        Gender
                    </label>
                    <select class="form-select" id="gender" name="gender" required="">
                        <option disabled="" selected="" value="">
                            -- Select Gender --
                        </option>
                        <option value="male">
                            Male
                        </option>
                        <option value="female">
                            Female
                        </option>
                    </select>
                </div>
                <div class="col-md-6">
                    <label class="form-label" for="marital_status">
                        Marital Status
                    </label>
                    <select class="form-select" id="marital_status" name="marital_status">
                        <option disabled="" selected="" value="">
                            -- Select Status --
                        </option>
                        <option value="Single">
                            Single
                        </option>
                        <option value="Married">
                            Married
                        </option>
                    </select>
                </div>
                <div class="col-md-6">
                    <label class="form-label" for="phone">
                        Phone
                    </label>
                    <input class="form-control" id="phone" maxlength="12" name="phone" required="" type="text">
                    </input>
                </div>
                <div class="col-md-6">
                    <label class="form-label" for="joined_at">
                        Joined On
                    </label>
                    <input class="form-control" id="joined_at" name="joined_at" type="date">
                    </input>
                </div>
                <div class="col-md-6">
                    <label class="form-label" for="experience">
                        Years of Experience
                    </label>
                    <input class="form-control" id="experience" min="0" name="experience" type="number">
                    </input>
                </div>
                <div class="col-md-6">
                    <label class="form-label" for="office">
                        Office
                    </label>
                    <input class="form-control" id="office" name="office" type="text">
                    </input>
                </div>
                <div class="col-md-12">
                    <label class="form-label" for="profile_picture">
                        Profile Picture
                    </label>
                    <input class="form-control" id="profile_picture" name="profile_picture" type="file">
                    </input>
                </div>
            </div>
            <!-- Secret Code & Bio -->
            <hr class="my-4">
                <h5>
                    üîê Security & Bio
                </h5>
                <div class="mb-3">
                    <label class="form-label" for="teachers_code">
                        Teacher's Secret Code
                    </label>
                    <input class="form-control" id="teachers_code" maxlength="8" name="teachers_code" required="" type="text" value="{{user.teacher.secret_code}}">
                    </input>
                </div>
                <div class="mb-3">
                    <label class="form-label" for="bio">
                        Bio
                    </label>
                    <textarea class="form-control" id="bio" name="bio" placeholder="Write something about yourself..." rows="3"></textarea>
                </div>
                <!-- Academic Info -->
                <hr class="my-4">
                    <h5>
                        üè´ Teaching Responsibilities
                    </h5>
                    <div class="row g-3">
                        <div class="col-md-6">
                            <label class="form-label" for="form_teacher">
                                Form Teacher
                            </label>
                            <select class="form-select" id="form_teacher" name="form_teacher">
                                <option value="">
                                    -- Select Form --
                                </option>
                                <option value="Form 1">
                                    Form One
                                </option>
                                <option value="Form 2">
                                    Form Two
                                </option>
                                <option value="Form 3">
                                    Form Three
                                </option>
                                <option value="Form 4">
                                    Form Four
                                </option>
                            </select>
                        </div>
                        <div class="col-md-6">
                            <label class="form-label" for="ft_stream">
                                Form Teachers Stream
                            </label>
                            <select class="form-select" id="ft_stream" name="ft_stream">
                                <option value="">
                                    -- Select Stream --
                                </option>
                                <option value="A">
                                    A
                                </option>
                                <option value="B">
                                    B
                                </option>
                            </select>
                        </div>
                        <!-- First Set -->
                        <div class="col-md-6">
                            <label class="form-label" for="form_assigned">
                                Form Assigned
                            </label>
                            <select class="form-select" id="form_assigned" name="form_assigned">
                                <option value="">
                                    -- Select Form --
                                </option>
                                <option value="Form 1">
                                    Form One
                                </option>
                                <option value="Form 2">
                                    Form Two
                                </option>
                                <option value="Form 3">
                                    Form Three
                                </option>
                                <option value="Form 4">
                                    Form Four
                                </option>
                            </select>
                        </div>
                        <div class="col-md-6">
                            <label class="form-label" for="stream1">
                                Stream 1
                            </label>
                            <select class="form-select" id="stream1" name="stream1">
                                <option value="">
                                    -- Select Stream --
                                </option>
                                <option value="A">
                                    A
                                </option>
                                <option value="B">
                                    B
                                </option>
                            </select>
                        </div>
                        <!-- Second Set -->
                        <div class="col-md-6">
                            <label class="form-label" for="form_assigned2">
                                Form Assigned 2
                            </label>
                            <select class="form-select" id="form_assigned2" name="form_assigned2">
                                <option value="">
                                    -- Select Form --
                                </option>
                                <option value="Form 1">
                                    Form One
                                </option>
                                <option value="Form 2">
                                    Form Two
                                </option>
                                <option value="Form 3">
                                    Form Three
                                </option>
                                <option value="Form 4">
                                    Form Four
                                </option>
                            </select>
                        </div>
                        <div class="col-md-6">
                            <label class="form-label" for="stream2">
                                Stream 2
                            </label>
                            <select class="form-select" id="stream2" name="stream2">
                                <option value="">
                                    -- Select Stream --
                                </option>
                                <option value="A">
                                    A
                                </option>
                                <option value="B">
                                    B
                                </option>
                            </select>
                        </div>
                        <!-- Third Set -->
                        <div class="col-md-6">
                            <label class="form-label" for="form_assigned3">
                                Form Assigned 3
                            </label>
                            <select class="form-select" id="form_assigned3" name="form_assigned3">
                                <option value="">
                                    -- Select Form --
                                </option>
                                <option value="Form 1">
                                    Form One
                                </option>
                                <option value="Form 2">
                                    Form Two
                                </option>
                                <option value="Form 3">
                                    Form Three
                                </option>
                                <option value="Form 4">
                                    Form Four
                                </option>
                            </select>
                        </div>
                        <div class="col-md-6">
                            <label class="form-label" for="stream3">
                                Stream 3
                            </label>
                            <select class="form-select" id="stream3" name="stream3">
                                <option value="">
                                    -- Select Stream --
                                </option>
                                <option value="A">
                                    A
                                </option>
                                <option value="B">
                                    B
                                </option>
                            </select>
                        </div>
                    </div>
                    <!-- Subjects -->
                    <div class="mb-4 mt-4">
                        <label class="form-label" for="subject">
                            Subjects
                        </label>
                        <select class="form-select" id="subject" multiple="" name="subject" style="width: 100%; height: 150px;">
                            {% for subject in form.subject %}
                            <option value="math">
                                {{subject}}
                            </option>
                            {% endfor %}
                        </select>
                        <div class="form-text">
                            Hold Ctrl (or ‚åò Command on Mac) to select multiple subjects
                        </div>
                    </div>
                    <!-- Submit -->
                    <div class="text-center">
                        <button class="btn btn-primary px-5 py-2" type="submit">
                            ‚úÖ Register
                        </button>
                    </div>
                    <a class="link-primary text-decoration-none" href="{% url 'home' %}">
                        <i class="bi bi-arrow-return-right">
                        </i>
                        Return to Dashboard
                    </a>
                </hr>
            </hr>
        </form>
    </div>
</div>
{% endif %}
{% endblock content %}
