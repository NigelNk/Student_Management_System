{% extends 'base.html' %}

{% block title %}
    Account
{% endblock title %}

{% block content %}

{% include 'profiles/partials/_navbar_sidebar.html'%}
<div id="layoutSidenav_content">
    <main>
        <div class="container-fluid px-4">
            <h1 class="mt-4 mb-4">
                Account Profile
            </h1>

            {% if messages %}
                <ul>
                   {% for message in messages %}
                    <div class="alert alert-success text-center" role="alert">
                        {{message}}
                    </div>
                   {% endfor %}
                </ul>
            {% endif %}

            <div class="container">
                <div class="main-body">
                    <div class="row">
                        <!-- Profile Card -->
                        <div class="col-lg-4">
                            <div class="card">
                                <div class="card-body text-center">
                                    {% if user.student.profile_picture %}
                                    <img alt="Admin" class="rounded-circle p-1 bg-primary" src="{{ user.student.profile_picture.url }}" width="150">
                                        {% else %}
                                        <img alt="Admin" class="rounded-circle p-1 bg-primary" src="https://bootdey.com/img/Content/avatar/avatar6.png" width="150">
                                            {% endif %}
                                            <div class="mt-3">
                                                <h4>
                                                    {{user.student.full_name}}
                                                </h4>
                                                <p class="text-secondary mb-1">
                                                    gender: {{user.student.gender}}
                                                </p>
                                                <p class="text-secondary mb-1">
                                                    Age: {{user.student.age}} years old
                                                </p>
                                                <p class="text-secondary mb-1">
                                                    ID: {{user.student.student_id}}
                                                </p>
                                            </div>
                                        </img>
                                    </img>
                                    <form method="POST" enctype="multipart/form-data" action="{% url 'update_profile_picture' %}"> {% csrf_token %}
                                        
                                        <label class="form-label text-secondary mb-1" for="profile_picture">
                                            Profile Picture
                                        </label>
                                        
                                        <input class="form-control mb-2" id="profile_picture" name="profile_picture" type="file" required>
                                        </input>
                                        <button class="btn btn-primary" type="submit">Upload</button>

                                    </form>
                                </div>
                            </div>
                        </div>
                        <!-- Edit Info Card -->
                        <div class="col-lg-8">
                            <div class="card">
                                <div class="card-body">
                                    <!-- Full Name -->
                                    <div class="row mb-3">
                                        <div class="col-sm-3">
                                            <h6 class="mb-0">
                                                Full Name
                                            </h6>
                                        </div>
                                        <div class="col-sm-9 text-secondary">
                                            <input class="form-control" disabled="" type="text" value="{{user.student.full_name}}">
                                            </input>
                                        </div>
                                    </div>
                                    <!-- Email -->
                                    <div class="row mb-3">
                                        <div class="col-sm-3">
                                            <h6 class="mb-0">
                                                Email
                                            </h6>
                                        </div>
                                        <div class="col-sm-9 text-secondary">
                                            <input class="form-control" disabled="" type="text" value="{{user.email}}">
                                            </input>
                                        </div>
                                    </div>
                                    <!-- dob -->
                                    <div class="row mb-3">
                                        <div class="col-sm-3">
                                            <h6 class="mb-0">
                                                Date Of Birth
                                            </h6>
                                        </div>
                                        <div class="col-sm-9 text-secondary">
                                            <input class="form-control" disabled="" type="text" value="{{user.student.dob}}">
                                            </input>
                                        </div>
                                    </div>
                                    <!-- Village -->
                                    <div class="row mb-3">
                                        <div class="col-sm-3">
                                            <h6 class="mb-0">
                                                Village
                                            </h6>
                                        </div>
                                        <div class="col-sm-9 text-secondary">
                                            <input class="form-control" disabled="" type="text" value="Mzimba">
                                            </input>
                                        </div>
                                    </div>
                                    <!-- TA -->
                                    <div class="row mb-3">
                                        <div class="col-sm-3">
                                            <h6 class="mb-0">
                                                TA
                                            </h6>
                                        </div>
                                        <div class="col-sm-9 text-secondary">
                                            <input class="form-control" disabled="" type="text" value="Mtwaro">
                                            </input>
                                        </div>
                                    </div>
                                    <!-- Physical Address -->
                                    <div class="row mb-3">
                                        <div class="col-sm-3">
                                            <h6 class="mb-0">
                                                Physical Address
                                            </h6>
                                        </div>
                                        <div class="col-sm-9 text-secondary mb-4">
                                            <input class="form-control" disabled="" type="text" value="P.O Box 33, Mzuzu. Kabunduli Road">
                                            </input>
                                        </div>
                                    </div>
                                    <!-- Next of Kin -->
                                    <!-- Save Button -->
                                    <div class="row mb-4">
                                        <div class="col-sm-3">
                                        </div>
                                        <div class="col-sm-9 text-secondary">
                                            <strong>
                                                Next Of Kin
                                            </strong>
                                        </div>
                                    </div>
                                    <!-- Next of Kin fullname -->
                                    <div class="row mb-3">
                                        <div class="col-sm-3">
                                            <h6 class="mb-0">
                                                Full Name
                                            </h6>
                                        </div>
                                        <div class="col-sm-9 text-secondary">
                                            <input class="form-control" disabled="" type="text" value="{{user.student.guardian_name}}">
                                            </input>
                                        </div>
                                    </div>
                                    <!-- Mobile -->
                                    <div class="row mb-3">
                                        <div class="col-sm-3">
                                            <h6 class="mb-0">
                                                Phone
                                            </h6>
                                        </div>
                                        <div class="col-sm-9 text-secondary">
                                            <input class="form-control" disabled="" type="text" value="{{user.student.guardian_phone}}">
                                            </input>
                                        </div>
                                    </div>
                                    <!-- Address -->
                                    <div class="row mb-3">
                                        <div class="col-sm-3">
                                            <h6 class="mb-0">
                                                Address
                                            </h6>
                                        </div>
                                        <div class="col-sm-9 text-secondary">
                                            <input ,="" class="form-control" disabled="" type="text" value="{{user.student.address}}">
                                            </input>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>
</div>
{% endblock content %}
